version: 3

tasks:
  default:
    - task: fmt
    - task: lint
    - task: test

  fmt:
    desc: Run formatters.
    cmds:
      - pre-commit run -a mdformat

  lint:
    desc: Run linters.
    cmds:
      - pre-commit run -a markdownlint-cli2
      - pre-commit run -a yamllint
      - pre-commit run -a ansible-lint

  test:
    desc: Run tests.
    cmds:
      - molecule test
